<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Display a bar plot"><title>A bar plotting routine — barp • plotrix</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A bar plotting routine — barp"><meta property="og:description" content="Display a bar plot"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">plotrix</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.8-6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/plotrix/plotrix/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>A bar plotting routine</h1>
      
      <div class="d-none name"><code>barp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Display a bar plot</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">barp</span><span class="op">(</span><span class="va">height</span>,width<span class="op">=</span><span class="fl">0.4</span>,names.arg<span class="op">=</span><span class="cn">NULL</span>,legend.lab<span class="op">=</span><span class="cn">NULL</span>,legend.pos<span class="op">=</span><span class="cn">NULL</span>,</span>
<span> col<span class="op">=</span><span class="cn">NULL</span>,border<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"fg"</span><span class="op">)</span>,main<span class="op">=</span><span class="cn">NULL</span>,xlab<span class="op">=</span><span class="st">""</span>,ylab<span class="op">=</span><span class="st">""</span>,xlim<span class="op">=</span><span class="cn">NULL</span>,ylim<span class="op">=</span><span class="cn">NULL</span>,</span>
<span> x<span class="op">=</span><span class="cn">NULL</span>,staxx<span class="op">=</span><span class="cn">FALSE</span>,staxy<span class="op">=</span><span class="cn">FALSE</span>, height.at<span class="op">=</span><span class="cn">NULL</span>,height.lab<span class="op">=</span><span class="cn">NULL</span>,</span>
<span> cex.axis<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"cex.axis"</span><span class="op">)</span>,pch<span class="op">=</span><span class="cn">NULL</span>,cylindrical<span class="op">=</span><span class="cn">FALSE</span>,shadow<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span> do.first<span class="op">=</span><span class="cn">NULL</span>,ylog<span class="op">=</span><span class="cn">FALSE</span>,srt<span class="op">=</span><span class="cn">NULL</span>,<span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>height</dt>
<dd><p>A numeric vector, matrix or data frame that will be represented
  as the heights of bars.</p></dd>

 <dt>width</dt>
<dd><p>Half the width of a single bar or group of bars in X axis units.</p></dd>

 <dt>names.arg</dt>
<dd><p>The labels for the bars or groups of bars.</p></dd>

 <dt>legend.lab</dt>
<dd><p>Labels for an optional legend. If NULL, no legend is
  displayed.</p></dd>

 <dt>legend.pos</dt>
<dd><p>Optional position for the legend as a list with <samp>x</samp>
  and <samp>y</samp> components. If this is NULL, <samp>locator</samp> will be called.</p></dd>

 <dt>col</dt>
<dd><p>The fill colors for the bars. The default is no fill.</p></dd>

 <dt>border</dt>
<dd><p>The border for the bars.</p></dd>

 <dt>main</dt>
<dd><p>The title at the top of the plot.</p></dd>

 <dt>xlab,ylab</dt>
<dd><p>The labels for the X and Y axes respectively.</p></dd>

 <dt>xlim,ylim</dt>
<dd><p>Optional horizontal and vertical limits for the plot.</p></dd>

 <dt>x</dt>
<dd><p>Optional horizontal positions for the bars. Defaults to 1:length(height).</p></dd>
 
<dt>staxx,staxy</dt>
<dd><p>Whether to use <a href="staxlab.html">staxlab</a> to stagger the 
  X or Y axis tick labels. Can also omit the X or Y axes.</p></dd>

 <dt>height.at</dt>
<dd><p>Optional positions of the tick marks on the Y axis.</p></dd>

 <dt>height.lab</dt>
<dd><p>Optional tick labels for the Y axis.</p></dd>

 <dt>cex.axis</dt>
<dd><p>Character expansion for the axis labels.</p></dd>

 <dt>pch</dt>
<dd><p>Symbol(s) to fill the bars. See Details.</p></dd>

 <dt>cylindrical</dt>
<dd><p>Whether to give the bars a cylindrical appearance
  by shading them.</p></dd>

 <dt>shadow</dt>
<dd><p>Whether to place a shadow behind the bars.</p></dd>

 <dt>do.first</dt>
<dd><p>An optional string that will be evaluated before anything
  else is displayed on the plot. Useful for background colors or lines.</p></dd>

 <dt>ylog</dt>
<dd><p>Logical for whether a log scale is to be used. see details.</p></dd>

 <dt>srt</dt>
<dd><p>Rotation of axis labels if staxx or staxy is TRUE (see
  <samp>staxlab</samp>).</p></dd>

 <dt>...</dt>
<dd><p>arguments passed to <samp>plot</samp></p></dd>
</dl><p>.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing two components of the same form as <samp>height</samp>:</p>
<dl><dt>x</dt>
<dd><p>The centers of the bars displayed.</p></dd>

 <dt>y</dt>
<dd><p>The heights of the bars.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><samp>barp</samp> displays a bar plot similar to <samp>barplot</samp> but with axes and
 horizontal bar positions more like <samp>plot</samp>. Bars or groups of bars are
 centered on integral X values by default, and so both the width and spacing of
 the bars are controlled by a single number. If the user passes explicit <samp>x</samp>
 values, those values will determine the spacing. If <samp>height</samp> is a vector,
 single bars representing each value will be displayed centered at
 <samp>1:length(height)</samp> unless the user has specified <samp>x</samp> values.
 If <samp>height</samp> is a matrix, 2D array, or data frame, a group of bars will be
 drawn for each column, with the values of the group taken from the rows of that
 column. Explicit x values cannot be used with a matrix, however, by adjusting the
 values of x, grouped bars can be displayed.</p>
<p>The values from <samp>freq</samp> or <samp>brkdn</samp> in the prettyR package can
 be used as the <samp>height</samp> argument. The value from <samp>table</samp> can also be
 passed as <samp>height</samp>, as can a 2D array returned from the <samp>by</samp> function.</p> 
<p>Bars are empty by default but fill colors can be defined in several ways.
 If a single color is passed, all bars will be the same color. If <samp>height</samp>
 is a vector, colors will be recycled or some will be ignored if the length of
 <samp>col</samp> is
 not equal to that of <samp>height</samp>. If <samp>height</samp> is a matrix or data frame,
 the user may pass a vector of colors equal to the number of rows in <samp>height</samp>
 or a matrix of colors of the same dimensions as <samp>height</samp>. Other sequences
 of color will probably not result in an easy to interpret plot.</p>
<p><samp>barp</samp> is intended to simplify illustrating categorical data for which both
 the variable designations and the categories are names, as on many multiple
 choice questions.  <samp>height.at</samp> and <samp>height.lab</samp> allow the user to place
 labels on the vertical axis, usually representing the options. If <samp>staxx</samp>
 or <samp>staxy</samp> are TRUE, the labels on the horizontal or vertical axes
 respectively will be staggered, allowing the user to use many or lengthy variable
 or value labels. If <samp>srt</samp> is not NULL, these labels will be rotated 
 counterclockwise by that value as angles in degrees instead of staggered.</p> 
<p>If <samp>staxx</samp> or <samp>staxy</samp> are set to NA, the respective axis will not
 be displayed.</p>
<p><samp>barp</samp> allows two enhancements that may be useful in those areas where fancy
 plots are appreciated. One is to give the bars a cylindrical look by shading the
 color. The other is to place an apparent shadow behind each bar. Both of these
 effects appear as though the light is coming from the upper left, and this is
 hard coded. You can add error bars by calling <samp>dispersion</samp>, but many advise
 against this.</p>
<p>If <samp>legend.lab</samp> is not NULL, a legend will be displayed. If 
 <samp>legend.pos</samp> is NULL, <samp>locator</samp> is called to place the legend. On 
 Windows, the alert may not appear on the console, and the function will 
 appear to hang unless the user clicks on the console window or the plot.</p>
<p>The <samp>ylog</samp> argument produces a log scale on the y axis. Currently,
 neither <samp>pretty</samp> nor <samp>axTicks</samp> seems to produce a nice set of axis
 ticks, so it is best to pass the positions of these in <samp>height.at</samp>.</p>
<p>If the <samp>pch</samp> argument is not NULL, barp will display white bars filled
 with the symbols specified in <samp>pch</samp>. With grouped bars, this must be a
 matrix with the same form as the <samp>col</samp> argument. This option allows a
 black and white bar plot to be produced.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Jim Lemon</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="staxlab.html">staxlab</a>, <a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a>, <a href="cylindrect.html">cylindrect</a>,
 <a href="gradient.rect.html">gradient.rect</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="co"># get some extra room on the left</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="co"># make up some happiness data, as so many seem to do</span></span></span>
<span class="r-in"><span> <span class="va">happyday</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Monday<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.3</span>,<span class="fl">3.4</span><span class="op">)</span>,Tuesday<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.8</span>,<span class="fl">3.3</span><span class="op">)</span>,Wednesday<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.2</span>,<span class="fl">3.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> Thursday<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.6</span>,<span class="fl">2.8</span><span class="op">)</span>,Friday<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.2</span>,<span class="fl">2.6</span><span class="op">)</span>,Saturday<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.5</span>,<span class="fl">2.9</span><span class="op">)</span>,Sunday<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.1</span>,<span class="fl">2.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">happylabels</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Utterly dashed"</span>,<span class="st">"Rather mopey"</span>,<span class="st">"Indifferent"</span>,<span class="st">"Somewhat elated"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Euphoric"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">barp</span><span class="op">(</span><span class="va">happyday</span>,names.arg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">happyday</span><span class="op">)</span>,legend.lab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Slaves"</span>,<span class="st">"Unemployed"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  legend.pos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">2</span>,y<span class="op">=</span><span class="fl">4.5</span><span class="op">)</span>,col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#ee7700"</span>,<span class="st">"#3333ff"</span><span class="op">)</span>,main<span class="op">=</span><span class="st">"9AM happiness by weekday"</span>,</span></span>
<span class="r-in"><span>  xlab<span class="op">=</span><span class="st">"Day of week"</span>,ylab<span class="op">=</span><span class="st">"Happiness rating"</span>,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span>,staxx<span class="op">=</span><span class="cn">TRUE</span>,staxy<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  height.at<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,height.lab<span class="op">=</span><span class="va">happylabels</span>,cex.axis<span class="op">=</span><span class="fl">0.9</span>,cylindrical<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  shadow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="barp-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span> <span class="co"># now do a plot with colors scaled to the sex ratio (real data!)</span></span></span>
<span class="r-in"><span> <span class="va">sexratio</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.24</span>,<span class="fl">0.35</span>,<span class="fl">0.09</span>,<span class="fl">0.59</span>,<span class="fl">0.63</span>,<span class="fl">0.34</span>,<span class="fl">0.7</span>,<span class="fl">0.6</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="co"># the fun ratings are once again a pack of lies</span></span></span>
<span class="r-in"><span> <span class="va">funrating</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.2</span>,<span class="fl">3.5</span>,<span class="fl">1.5</span>,<span class="fl">5.4</span>,<span class="fl">4.5</span>,<span class="fl">2.7</span>,<span class="fl">6.8</span>,<span class="fl">4.9</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">funstudy</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Astronomy"</span>,<span class="st">"Chemistry"</span>,<span class="st">"Economics"</span>,<span class="st">"Anthropology"</span>,<span class="st">"Linguistics"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Math/Stats"</span>,<span class="st">"Psychology"</span>,<span class="st">"Sociology"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">funlabels</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Torture"</span>,<span class="st">"Agony"</span>,<span class="st">"Boredom"</span>,<span class="st">"Neutral"</span>,<span class="st">"Entertaining"</span>,<span class="st">"Exhilarating"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Maniacal"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="co"># xrange is used to get the colors to match the 0-100% scale</span></span></span>
<span class="r-in"><span> <span class="fu">barp</span><span class="op">(</span><span class="va">funrating</span>,names.arg<span class="op">=</span><span class="va">funstudy</span>,main<span class="op">=</span><span class="st">"Fun ratings for various areas of study"</span>,</span></span>
<span class="r-in"><span>  col<span class="op">=</span><span class="fu"><a href="color.scale.html">color.scale</a></span><span class="op">(</span><span class="va">sexratio</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.4</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0.4</span><span class="op">)</span>,xrange<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  xlab<span class="op">=</span><span class="st">"Study"</span>,ylab<span class="op">=</span><span class="st">"Rating"</span>,height.at<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span>,height.lab<span class="op">=</span><span class="va">funlabels</span>,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  staxx<span class="op">=</span><span class="cn">TRUE</span>,staxy<span class="op">=</span><span class="cn">TRUE</span>,cex.axis<span class="op">=</span><span class="fl">0.9</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="co"># here we want the full scale from zero to one</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="color.legend.html">color.legend</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">6</span>,<span class="fl">4</span>,<span class="fl">6.4</span>,legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"100% guys"</span>,<span class="st">"100% girls"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  rect.col<span class="op">=</span><span class="fu"><a href="color.scale.html">color.scale</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,by<span class="op">=</span><span class="fl">0.25</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.4</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0.4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="barp-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="co"># use barp to display a multiple histogram with a shaded background</span></span></span>
<span class="r-in"><span> <span class="co"># notice how the expression uses local variables inside the barp function</span></span></span>
<span class="r-in"><span> <span class="va">gradbg</span><span class="op">&lt;-</span><span class="st">"gradient.rect(xlim[1],ylim[1],xlim[2],ylim[2],</span></span></span>
<span class="r-in"><span><span class="st">  c(1,0.5,1),c(1,0.5,1),c(1,0.5,1),gradient=\"y\",nslices=100)"</span></span></span>
<span class="r-in"><span> <span class="va">h1</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">4</span><span class="op">)</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">h2</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">4</span><span class="op">)</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">h3</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">4</span><span class="op">)</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">hmat</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">h1</span>,<span class="va">h2</span>,<span class="va">h3</span><span class="op">)</span>,nrow<span class="op">=</span><span class="fl">3</span>,byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">barp</span><span class="op">(</span><span class="va">hmat</span>,names.arg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">h1</span><span class="op">)</span>,width<span class="op">=</span><span class="fl">0.45</span>,col<span class="op">=</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span>,do.first<span class="op">=</span><span class="va">gradbg</span>,</span></span>
<span class="r-in"><span>  main<span class="op">=</span><span class="st">"Multiple histogram using barp"</span>,xlab<span class="op">=</span><span class="st">"Bins"</span>,ylab<span class="op">=</span><span class="st">"Frequency"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="fl">3.8</span>,<span class="fl">50</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"h1"</span>,<span class="st">"h2"</span>,<span class="st">"h3"</span><span class="op">)</span>,fill<span class="op">=</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="barp-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span> <span class="co"># now display a positive/negative plot</span></span></span>
<span class="r-in"><span> <span class="fu">barp</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="op">-</span><span class="fl">3</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">6</span>,<span class="op">-</span><span class="fl">7</span>,<span class="fl">8</span><span class="op">)</span>,main<span class="op">=</span><span class="st">"Positive/negative plot"</span>,</span></span>
<span class="r-in"><span>  xlab<span class="op">=</span><span class="st">"Alternating colors"</span>,ylab<span class="op">=</span><span class="st">"For alternating values"</span>,</span></span>
<span class="r-in"><span>  col<span class="op">=</span><span class="fl">2</span><span class="op">+</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="op">-</span><span class="fl">3</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">6</span>,<span class="op">-</span><span class="fl">7</span>,<span class="fl">8</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="barp-4.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jim Lemon.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

